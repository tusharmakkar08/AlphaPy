\begin{Verbatim}[commandchars=\\\{\}]
\PY{c}{\PYZsh{}!/usr/bin/env python}

\PY{l+s+sd}{"""}
\PY{l+s+sd}{Simple desktop dialogue box support for Python.}

\PY{l+s+sd}{Copyright (C) 2007, 2009 Paul Boddie \PYZlt{}paul@boddie.org.uk\PYZgt{}}

\PY{l+s+sd}{This program is free software; you can redistribute it and/or modify it under}
\PY{l+s+sd}{the terms of the GNU Lesser General Public License as published by the Free}
\PY{l+s+sd}{Software Foundation; either version 3 of the License, or (at your option) any}
\PY{l+s+sd}{later version.}

\PY{l+s+sd}{This program is distributed in the hope that it will be useful, but WITHOUT}
\PY{l+s+sd}{ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS}
\PY{l+s+sd}{FOR A PARTICULAR PURPOSE.  See the GNU Lesser General Public License for more}
\PY{l+s+sd}{details.}

\PY{l+s+sd}{You should have received a copy of the GNU Lesser General Public License along}
\PY{l+s+sd}{with this program.  If not, see \PYZlt{}http://www.gnu.org/licenses/\PYZgt{}.}

\PY{l+s+sd}{--------}

\PY{l+s+sd}{Opening Dialogue Boxes (Dialogs)}
\PY{l+s+sd}{--------------------------------}

\PY{l+s+sd}{To open a dialogue box (dialog) in the current desktop environment, relying on}
\PY{l+s+sd}{the automatic detection of that environment, use the appropriate dialogue box}
\PY{l+s+sd}{class:}

\PY{l+s+sd}{question = desktop.dialog.Question("Are you sure?")}
\PY{l+s+sd}{result = question.open()}

\PY{l+s+sd}{To override the detected desktop, specify the desktop parameter to the open}
\PY{l+s+sd}{function as follows:}

\PY{l+s+sd}{question.open("KDE") \PYZsh{} Insists on KDE}
\PY{l+s+sd}{question.open("GNOME") \PYZsh{} Insists on GNOME}

\PY{l+s+sd}{The dialogue box options are documented in each class's docstring.}

\PY{l+s+sd}{Available dialogue box classes are listed in the desktop.dialog.available}
\PY{l+s+sd}{attribute.}

\PY{l+s+sd}{Supported desktop environments are listed in the desktop.dialog.supported}
\PY{l+s+sd}{attribute.}
\PY{l+s+sd}{"""}

\PY{k+kn}{from} \PY{n+nn}{desktop} \PY{k+kn}{import} \PY{n}{use\PYZus{}desktop}\PY{p}{,} \PY{n}{\PYZus{}run}\PY{p}{,} \PY{n}{\PYZus{}readfrom}\PY{p}{,} \PY{n}{\PYZus{}status}

\PY{k}{class} \PY{n+nc}{\PYZus{}wrapper}\PY{p}{:}
    \PY{k}{def} \PY{n+nf}{\PYZus{}\PYZus{}init\PYZus{}\PYZus{}}\PY{p}{(}\PY{n+nb+bp}{self}\PY{p}{,} \PY{n}{handler}\PY{p}{)}\PY{p}{:}
        \PY{n+nb+bp}{self}\PY{o}{.}\PY{n}{handler} \PY{o}{=} \PY{n}{handler}

\PY{k}{class} \PY{n+nc}{\PYZus{}readvalue}\PY{p}{(}\PY{n}{\PYZus{}wrapper}\PY{p}{)}\PY{p}{:}
    \PY{k}{def} \PY{n+nf}{\PYZus{}\PYZus{}call\PYZus{}\PYZus{}}\PY{p}{(}\PY{n+nb+bp}{self}\PY{p}{,} \PY{n}{cmd}\PY{p}{,} \PY{n}{shell}\PY{p}{)}\PY{p}{:}
        \PY{k}{return} \PY{n+nb+bp}{self}\PY{o}{.}\PY{n}{handler}\PY{p}{(}\PY{n}{cmd}\PY{p}{,} \PY{n}{shell}\PY{p}{)}\PY{o}{.}\PY{n}{strip}\PY{p}{(}\PY{p}{)}

\PY{k}{class} \PY{n+nc}{\PYZus{}readinput}\PY{p}{(}\PY{n}{\PYZus{}wrapper}\PY{p}{)}\PY{p}{:}
    \PY{k}{def} \PY{n+nf}{\PYZus{}\PYZus{}call\PYZus{}\PYZus{}}\PY{p}{(}\PY{n+nb+bp}{self}\PY{p}{,} \PY{n}{cmd}\PY{p}{,} \PY{n}{shell}\PY{p}{)}\PY{p}{:}
        \PY{k}{return} \PY{n+nb+bp}{self}\PY{o}{.}\PY{n}{handler}\PY{p}{(}\PY{n}{cmd}\PY{p}{,} \PY{n}{shell}\PY{p}{)}\PY{p}{[}\PY{p}{:}\PY{o}{-}\PY{l+m+mi}{1}\PY{p}{]}

\PY{k}{class} \PY{n+nc}{\PYZus{}readvalues\PYZus{}kdialog}\PY{p}{(}\PY{n}{\PYZus{}wrapper}\PY{p}{)}\PY{p}{:}
    \PY{k}{def} \PY{n+nf}{\PYZus{}\PYZus{}call\PYZus{}\PYZus{}}\PY{p}{(}\PY{n+nb+bp}{self}\PY{p}{,} \PY{n}{cmd}\PY{p}{,} \PY{n}{shell}\PY{p}{)}\PY{p}{:}
        \PY{n}{result} \PY{o}{=} \PY{n+nb+bp}{self}\PY{o}{.}\PY{n}{handler}\PY{p}{(}\PY{n}{cmd}\PY{p}{,} \PY{n}{shell}\PY{p}{)}\PY{o}{.}\PY{n}{strip}\PY{p}{(}\PY{p}{)}\PY{o}{.}\PY{n}{strip}\PY{p}{(}\PY{l+s}{'}\PY{l+s}{"}\PY{l+s}{'}\PY{p}{)}
        \PY{k}{if} \PY{n}{result}\PY{p}{:}
            \PY{k}{return} \PY{n}{result}\PY{o}{.}\PY{n}{split}\PY{p}{(}\PY{l+s}{'}\PY{l+s}{"}\PY{l+s}{ }\PY{l+s}{"}\PY{l+s}{'}\PY{p}{)}
        \PY{k}{else}\PY{p}{:}
            \PY{k}{return} \PY{p}{[}\PY{p}{]}

\PY{k}{class} \PY{n+nc}{\PYZus{}readvalues\PYZus{}zenity}\PY{p}{(}\PY{n}{\PYZus{}wrapper}\PY{p}{)}\PY{p}{:}
    \PY{k}{def} \PY{n+nf}{\PYZus{}\PYZus{}call\PYZus{}\PYZus{}}\PY{p}{(}\PY{n+nb+bp}{self}\PY{p}{,} \PY{n}{cmd}\PY{p}{,} \PY{n}{shell}\PY{p}{)}\PY{p}{:}
        \PY{n}{result} \PY{o}{=} \PY{n+nb+bp}{self}\PY{o}{.}\PY{n}{handler}\PY{p}{(}\PY{n}{cmd}\PY{p}{,} \PY{n}{shell}\PY{p}{)}\PY{o}{.}\PY{n}{strip}\PY{p}{(}\PY{p}{)}
        \PY{k}{if} \PY{n}{result}\PY{p}{:}
            \PY{k}{return} \PY{n}{result}\PY{o}{.}\PY{n}{split}\PY{p}{(}\PY{l+s}{"}\PY{l+s}{|}\PY{l+s}{"}\PY{p}{)}
        \PY{k}{else}\PY{p}{:}
            \PY{k}{return} \PY{p}{[}\PY{p}{]}

\PY{k}{class} \PY{n+nc}{\PYZus{}readvalues\PYZus{}Xdialog}\PY{p}{(}\PY{n}{\PYZus{}wrapper}\PY{p}{)}\PY{p}{:}
    \PY{k}{def} \PY{n+nf}{\PYZus{}\PYZus{}call\PYZus{}\PYZus{}}\PY{p}{(}\PY{n+nb+bp}{self}\PY{p}{,} \PY{n}{cmd}\PY{p}{,} \PY{n}{shell}\PY{p}{)}\PY{p}{:}
        \PY{n}{result} \PY{o}{=} \PY{n+nb+bp}{self}\PY{o}{.}\PY{n}{handler}\PY{p}{(}\PY{n}{cmd}\PY{p}{,} \PY{n}{shell}\PY{p}{)}\PY{o}{.}\PY{n}{strip}\PY{p}{(}\PY{p}{)}
        \PY{k}{if} \PY{n}{result}\PY{p}{:}
            \PY{k}{return} \PY{n}{result}\PY{o}{.}\PY{n}{split}\PY{p}{(}\PY{l+s}{"}\PY{l+s}{/}\PY{l+s}{"}\PY{p}{)}
        \PY{k}{else}\PY{p}{:}
            \PY{k}{return} \PY{p}{[}\PY{p}{]}

\PY{c}{\PYZsh{} Dialogue parameter classes.}

\PY{k}{class} \PY{n+nc}{String}\PY{p}{:}

    \PY{l+s}{"}\PY{l+s}{A generic parameter.}\PY{l+s}{"}

    \PY{k}{def} \PY{n+nf}{\PYZus{}\PYZus{}init\PYZus{}\PYZus{}}\PY{p}{(}\PY{n+nb+bp}{self}\PY{p}{,} \PY{n}{name}\PY{p}{)}\PY{p}{:}
        \PY{n+nb+bp}{self}\PY{o}{.}\PY{n}{name} \PY{o}{=} \PY{n}{name}

    \PY{k}{def} \PY{n+nf}{convert}\PY{p}{(}\PY{n+nb+bp}{self}\PY{p}{,} \PY{n}{value}\PY{p}{,} \PY{n}{program}\PY{p}{)}\PY{p}{:}
        \PY{k}{return} \PY{p}{[}\PY{n}{value} \PY{o+ow}{or} \PY{l+s}{"}\PY{l+s}{"}\PY{p}{]}

\PY{k}{class} \PY{n+nc}{Strings}\PY{p}{(}\PY{n}{String}\PY{p}{)}\PY{p}{:}

    \PY{l+s}{"}\PY{l+s}{Multiple string parameters.}\PY{l+s}{"}

    \PY{k}{def} \PY{n+nf}{convert}\PY{p}{(}\PY{n+nb+bp}{self}\PY{p}{,} \PY{n}{value}\PY{p}{,} \PY{n}{program}\PY{p}{)}\PY{p}{:}
        \PY{k}{return} \PY{n}{value} \PY{o+ow}{or} \PY{p}{[}\PY{p}{]}

\PY{k}{class} \PY{n+nc}{StringPairs}\PY{p}{(}\PY{n}{String}\PY{p}{)}\PY{p}{:}

    \PY{l+s}{"}\PY{l+s}{Multiple string parameters duplicated to make identifiers.}\PY{l+s}{"}

    \PY{k}{def} \PY{n+nf}{convert}\PY{p}{(}\PY{n+nb+bp}{self}\PY{p}{,} \PY{n}{value}\PY{p}{,} \PY{n}{program}\PY{p}{)}\PY{p}{:}
        \PY{n}{l} \PY{o}{=} \PY{p}{[}\PY{p}{]}
        \PY{k}{for} \PY{n}{v} \PY{o+ow}{in} \PY{n}{value}\PY{p}{:}
            \PY{n}{l}\PY{o}{.}\PY{n}{append}\PY{p}{(}\PY{n}{v}\PY{p}{)}
            \PY{n}{l}\PY{o}{.}\PY{n}{append}\PY{p}{(}\PY{n}{v}\PY{p}{)}
        \PY{k}{return} \PY{n}{l}

\PY{k}{class} \PY{n+nc}{StringKeyword}\PY{p}{:}

    \PY{l+s}{"}\PY{l+s}{A keyword parameter.}\PY{l+s}{"}

    \PY{k}{def} \PY{n+nf}{\PYZus{}\PYZus{}init\PYZus{}\PYZus{}}\PY{p}{(}\PY{n+nb+bp}{self}\PY{p}{,} \PY{n}{keyword}\PY{p}{,} \PY{n}{name}\PY{p}{)}\PY{p}{:}
        \PY{n+nb+bp}{self}\PY{o}{.}\PY{n}{keyword} \PY{o}{=} \PY{n}{keyword}
        \PY{n+nb+bp}{self}\PY{o}{.}\PY{n}{name} \PY{o}{=} \PY{n}{name}

    \PY{k}{def} \PY{n+nf}{convert}\PY{p}{(}\PY{n+nb+bp}{self}\PY{p}{,} \PY{n}{value}\PY{p}{,} \PY{n}{program}\PY{p}{)}\PY{p}{:}
        \PY{k}{return} \PY{p}{[}\PY{n+nb+bp}{self}\PY{o}{.}\PY{n}{keyword} \PY{o}{+} \PY{l+s}{"}\PY{l+s}{=}\PY{l+s}{"} \PY{o}{+} \PY{p}{(}\PY{n}{value} \PY{o+ow}{or} \PY{l+s}{"}\PY{l+s}{"}\PY{p}{)}\PY{p}{]}

\PY{k}{class} \PY{n+nc}{StringKeywords}\PY{p}{:}

    \PY{l+s}{"}\PY{l+s}{Multiple keyword parameters.}\PY{l+s}{"}

    \PY{k}{def} \PY{n+nf}{\PYZus{}\PYZus{}init\PYZus{}\PYZus{}}\PY{p}{(}\PY{n+nb+bp}{self}\PY{p}{,} \PY{n}{keyword}\PY{p}{,} \PY{n}{name}\PY{p}{)}\PY{p}{:}
        \PY{n+nb+bp}{self}\PY{o}{.}\PY{n}{keyword} \PY{o}{=} \PY{n}{keyword}
        \PY{n+nb+bp}{self}\PY{o}{.}\PY{n}{name} \PY{o}{=} \PY{n}{name}

    \PY{k}{def} \PY{n+nf}{convert}\PY{p}{(}\PY{n+nb+bp}{self}\PY{p}{,} \PY{n}{value}\PY{p}{,} \PY{n}{program}\PY{p}{)}\PY{p}{:}
        \PY{n}{l} \PY{o}{=} \PY{p}{[}\PY{p}{]}
        \PY{k}{for} \PY{n}{v} \PY{o+ow}{in} \PY{n}{value} \PY{o+ow}{or} \PY{p}{[}\PY{p}{]}\PY{p}{:}
            \PY{n}{l}\PY{o}{.}\PY{n}{append}\PY{p}{(}\PY{n+nb+bp}{self}\PY{o}{.}\PY{n}{keyword} \PY{o}{+} \PY{l+s}{"}\PY{l+s}{=}\PY{l+s}{"} \PY{o}{+} \PY{n}{v}\PY{p}{)}
        \PY{k}{return} \PY{n}{l}

\PY{k}{class} \PY{n+nc}{Integer}\PY{p}{(}\PY{n}{String}\PY{p}{)}\PY{p}{:}

    \PY{l+s}{"}\PY{l+s}{An integer parameter.}\PY{l+s}{"}

    \PY{n}{defaults} \PY{o}{=} \PY{p}{\PYZob{}}
        \PY{l+s}{"}\PY{l+s}{width}\PY{l+s}{"} \PY{p}{:} \PY{l+m+mi}{40}\PY{p}{,}
        \PY{l+s}{"}\PY{l+s}{height}\PY{l+s}{"} \PY{p}{:} \PY{l+m+mi}{15}\PY{p}{,}
        \PY{l+s}{"}\PY{l+s}{list\PYZus{}height}\PY{l+s}{"} \PY{p}{:} \PY{l+m+mi}{10}
        \PY{p}{\PYZcb{}}
    \PY{n}{scale} \PY{o}{=} \PY{l+m+mi}{8}

    \PY{k}{def} \PY{n+nf}{\PYZus{}\PYZus{}init\PYZus{}\PYZus{}}\PY{p}{(}\PY{n+nb+bp}{self}\PY{p}{,} \PY{n}{name}\PY{p}{,} \PY{n}{pixels}\PY{o}{=}\PY{l+m+mi}{0}\PY{p}{)}\PY{p}{:}
        \PY{n}{String}\PY{o}{.}\PY{n}{\PYZus{}\PYZus{}init\PYZus{}\PYZus{}}\PY{p}{(}\PY{n+nb+bp}{self}\PY{p}{,} \PY{n}{name}\PY{p}{)}
        \PY{k}{if} \PY{n}{pixels}\PY{p}{:}
            \PY{n+nb+bp}{self}\PY{o}{.}\PY{n}{factor} \PY{o}{=} \PY{n+nb+bp}{self}\PY{o}{.}\PY{n}{scale}
        \PY{k}{else}\PY{p}{:}
            \PY{n+nb+bp}{self}\PY{o}{.}\PY{n}{factor} \PY{o}{=} \PY{l+m+mi}{1}

    \PY{k}{def} \PY{n+nf}{convert}\PY{p}{(}\PY{n+nb+bp}{self}\PY{p}{,} \PY{n}{value}\PY{p}{,} \PY{n}{program}\PY{p}{)}\PY{p}{:}
        \PY{k}{if} \PY{n}{value} \PY{o+ow}{is} \PY{n+nb+bp}{None}\PY{p}{:}
            \PY{n}{value} \PY{o}{=} \PY{n+nb+bp}{self}\PY{o}{.}\PY{n}{defaults}\PY{p}{[}\PY{n+nb+bp}{self}\PY{o}{.}\PY{n}{name}\PY{p}{]}
        \PY{k}{return} \PY{p}{[}\PY{n+nb}{str}\PY{p}{(}\PY{n+nb}{int}\PY{p}{(}\PY{n}{value}\PY{p}{)} \PY{o}{*} \PY{n+nb+bp}{self}\PY{o}{.}\PY{n}{factor}\PY{p}{)}\PY{p}{]}

\PY{k}{class} \PY{n+nc}{IntegerKeyword}\PY{p}{(}\PY{n}{Integer}\PY{p}{)}\PY{p}{:}

    \PY{l+s}{"}\PY{l+s}{An integer keyword parameter.}\PY{l+s}{"}

    \PY{k}{def} \PY{n+nf}{\PYZus{}\PYZus{}init\PYZus{}\PYZus{}}\PY{p}{(}\PY{n+nb+bp}{self}\PY{p}{,} \PY{n}{keyword}\PY{p}{,} \PY{n}{name}\PY{p}{,} \PY{n}{pixels}\PY{o}{=}\PY{l+m+mi}{0}\PY{p}{)}\PY{p}{:}
        \PY{n}{Integer}\PY{o}{.}\PY{n}{\PYZus{}\PYZus{}init\PYZus{}\PYZus{}}\PY{p}{(}\PY{n+nb+bp}{self}\PY{p}{,} \PY{n}{name}\PY{p}{,} \PY{n}{pixels}\PY{p}{)}
        \PY{n+nb+bp}{self}\PY{o}{.}\PY{n}{keyword} \PY{o}{=} \PY{n}{keyword}

    \PY{k}{def} \PY{n+nf}{convert}\PY{p}{(}\PY{n+nb+bp}{self}\PY{p}{,} \PY{n}{value}\PY{p}{,} \PY{n}{program}\PY{p}{)}\PY{p}{:}
        \PY{k}{if} \PY{n}{value} \PY{o+ow}{is} \PY{n+nb+bp}{None}\PY{p}{:}
            \PY{n}{value} \PY{o}{=} \PY{n+nb+bp}{self}\PY{o}{.}\PY{n}{defaults}\PY{p}{[}\PY{n+nb+bp}{self}\PY{o}{.}\PY{n}{name}\PY{p}{]}
        \PY{k}{return} \PY{p}{[}\PY{n+nb+bp}{self}\PY{o}{.}\PY{n}{keyword} \PY{o}{+} \PY{l+s}{"}\PY{l+s}{=}\PY{l+s}{"} \PY{o}{+} \PY{n+nb}{str}\PY{p}{(}\PY{n+nb}{int}\PY{p}{(}\PY{n}{value}\PY{p}{)} \PY{o}{*} \PY{n+nb+bp}{self}\PY{o}{.}\PY{n}{factor}\PY{p}{)}\PY{p}{]}

\PY{k}{class} \PY{n+nc}{Boolean}\PY{p}{(}\PY{n}{String}\PY{p}{)}\PY{p}{:}

    \PY{l+s}{"}\PY{l+s}{A boolean parameter.}\PY{l+s}{"}

    \PY{n}{values} \PY{o}{=} \PY{p}{\PYZob{}}
        \PY{l+s}{"}\PY{l+s}{kdialog}\PY{l+s}{"} \PY{p}{:} \PY{p}{[}\PY{l+s}{"}\PY{l+s}{off}\PY{l+s}{"}\PY{p}{,} \PY{l+s}{"}\PY{l+s}{on}\PY{l+s}{"}\PY{p}{]}\PY{p}{,}
        \PY{l+s}{"}\PY{l+s}{zenity}\PY{l+s}{"} \PY{p}{:} \PY{p}{[}\PY{l+s}{"}\PY{l+s}{FALSE}\PY{l+s}{"}\PY{p}{,} \PY{l+s}{"}\PY{l+s}{TRUE}\PY{l+s}{"}\PY{p}{]}\PY{p}{,}
        \PY{l+s}{"}\PY{l+s}{Xdialog}\PY{l+s}{"} \PY{p}{:} \PY{p}{[}\PY{l+s}{"}\PY{l+s}{off}\PY{l+s}{"}\PY{p}{,} \PY{l+s}{"}\PY{l+s}{on}\PY{l+s}{"}\PY{p}{]}
        \PY{p}{\PYZcb{}}

    \PY{k}{def} \PY{n+nf}{convert}\PY{p}{(}\PY{n+nb+bp}{self}\PY{p}{,} \PY{n}{value}\PY{p}{,} \PY{n}{program}\PY{p}{)}\PY{p}{:}
        \PY{n}{values} \PY{o}{=} \PY{n+nb+bp}{self}\PY{o}{.}\PY{n}{values}\PY{p}{[}\PY{n}{program}\PY{p}{]}
        \PY{k}{if} \PY{n}{value}\PY{p}{:}
            \PY{k}{return} \PY{p}{[}\PY{n}{values}\PY{p}{[}\PY{l+m+mi}{1}\PY{p}{]}\PY{p}{]}
        \PY{k}{else}\PY{p}{:}
            \PY{k}{return} \PY{p}{[}\PY{n}{values}\PY{p}{[}\PY{l+m+mi}{0}\PY{p}{]}\PY{p}{]}

\PY{k}{class} \PY{n+nc}{MenuItemList}\PY{p}{(}\PY{n}{String}\PY{p}{)}\PY{p}{:}

    \PY{l+s}{"}\PY{l+s}{A menu item list parameter.}\PY{l+s}{"}

    \PY{k}{def} \PY{n+nf}{convert}\PY{p}{(}\PY{n+nb+bp}{self}\PY{p}{,} \PY{n}{value}\PY{p}{,} \PY{n}{program}\PY{p}{)}\PY{p}{:}
        \PY{n}{l} \PY{o}{=} \PY{p}{[}\PY{p}{]}
        \PY{k}{for} \PY{n}{v} \PY{o+ow}{in} \PY{n}{value}\PY{p}{:}
            \PY{n}{l}\PY{o}{.}\PY{n}{append}\PY{p}{(}\PY{n}{v}\PY{o}{.}\PY{n}{value}\PY{p}{)}
            \PY{n}{l}\PY{o}{.}\PY{n}{append}\PY{p}{(}\PY{n}{v}\PY{o}{.}\PY{n}{text}\PY{p}{)}
        \PY{k}{return} \PY{n}{l}

\PY{k}{class} \PY{n+nc}{ListItemList}\PY{p}{(}\PY{n}{String}\PY{p}{)}\PY{p}{:}

    \PY{l+s}{"}\PY{l+s}{A radiolist/checklist item list parameter.}\PY{l+s}{"}

    \PY{k}{def} \PY{n+nf}{\PYZus{}\PYZus{}init\PYZus{}\PYZus{}}\PY{p}{(}\PY{n+nb+bp}{self}\PY{p}{,} \PY{n}{name}\PY{p}{,} \PY{n}{status\PYZus{}first}\PY{o}{=}\PY{l+m+mi}{0}\PY{p}{)}\PY{p}{:}
        \PY{n}{String}\PY{o}{.}\PY{n}{\PYZus{}\PYZus{}init\PYZus{}\PYZus{}}\PY{p}{(}\PY{n+nb+bp}{self}\PY{p}{,} \PY{n}{name}\PY{p}{)}
        \PY{n+nb+bp}{self}\PY{o}{.}\PY{n}{status\PYZus{}first} \PY{o}{=} \PY{n}{status\PYZus{}first}

    \PY{k}{def} \PY{n+nf}{convert}\PY{p}{(}\PY{n+nb+bp}{self}\PY{p}{,} \PY{n}{value}\PY{p}{,} \PY{n}{program}\PY{p}{)}\PY{p}{:}
        \PY{n}{l} \PY{o}{=} \PY{p}{[}\PY{p}{]}
        \PY{k}{for} \PY{n}{v} \PY{o+ow}{in} \PY{n}{value}\PY{p}{:}
            \PY{n}{boolean} \PY{o}{=} \PY{n}{Boolean}\PY{p}{(}\PY{n+nb+bp}{None}\PY{p}{)}
            \PY{n}{status} \PY{o}{=} \PY{n}{boolean}\PY{o}{.}\PY{n}{convert}\PY{p}{(}\PY{n}{v}\PY{o}{.}\PY{n}{status}\PY{p}{,} \PY{n}{program}\PY{p}{)}
            \PY{k}{if} \PY{n+nb+bp}{self}\PY{o}{.}\PY{n}{status\PYZus{}first}\PY{p}{:}
                \PY{n}{l} \PY{o}{+}\PY{o}{=} \PY{n}{status}
            \PY{n}{l}\PY{o}{.}\PY{n}{append}\PY{p}{(}\PY{n}{v}\PY{o}{.}\PY{n}{value}\PY{p}{)}
            \PY{n}{l}\PY{o}{.}\PY{n}{append}\PY{p}{(}\PY{n}{v}\PY{o}{.}\PY{n}{text}\PY{p}{)}
            \PY{k}{if} \PY{o+ow}{not} \PY{n+nb+bp}{self}\PY{o}{.}\PY{n}{status\PYZus{}first}\PY{p}{:}
                \PY{n}{l} \PY{o}{+}\PY{o}{=} \PY{n}{status}
        \PY{k}{return} \PY{n}{l}

\PY{c}{\PYZsh{} Dialogue argument values.}

\PY{k}{class} \PY{n+nc}{MenuItem}\PY{p}{:}

    \PY{l+s}{"}\PY{l+s}{A menu item which can also be used with radiolists and checklists.}\PY{l+s}{"}

    \PY{k}{def} \PY{n+nf}{\PYZus{}\PYZus{}init\PYZus{}\PYZus{}}\PY{p}{(}\PY{n+nb+bp}{self}\PY{p}{,} \PY{n}{value}\PY{p}{,} \PY{n}{text}\PY{p}{,} \PY{n}{status}\PY{o}{=}\PY{l+m+mi}{0}\PY{p}{)}\PY{p}{:}
        \PY{n+nb+bp}{self}\PY{o}{.}\PY{n}{value} \PY{o}{=} \PY{n}{value}
        \PY{n+nb+bp}{self}\PY{o}{.}\PY{n}{text} \PY{o}{=} \PY{n}{text}
        \PY{n+nb+bp}{self}\PY{o}{.}\PY{n}{status} \PY{o}{=} \PY{n}{status}

\PY{c}{\PYZsh{} Dialogue classes.}

\PY{k}{class} \PY{n+nc}{Dialogue}\PY{p}{:}

    \PY{n}{commands} \PY{o}{=} \PY{p}{\PYZob{}}
        \PY{l+s}{"}\PY{l+s}{KDE}\PY{l+s}{"} \PY{p}{:} \PY{l+s}{"}\PY{l+s}{kdialog}\PY{l+s}{"}\PY{p}{,}
        \PY{l+s}{"}\PY{l+s}{GNOME}\PY{l+s}{"} \PY{p}{:} \PY{l+s}{"}\PY{l+s}{zenity}\PY{l+s}{"}\PY{p}{,}
        \PY{l+s}{"}\PY{l+s}{XFCE}\PY{l+s}{"} \PY{p}{:} \PY{l+s}{"}\PY{l+s}{zenity}\PY{l+s}{"}\PY{p}{,} \PY{c}{\PYZsh{} NOTE: Based on observations with Xubuntu.}
        \PY{l+s}{"}\PY{l+s}{X11}\PY{l+s}{"} \PY{p}{:} \PY{l+s}{"}\PY{l+s}{Xdialog}\PY{l+s}{"}
        \PY{p}{\PYZcb{}}

    \PY{k}{def} \PY{n+nf}{open}\PY{p}{(}\PY{n+nb+bp}{self}\PY{p}{,} \PY{n}{desktop}\PY{o}{=}\PY{n+nb+bp}{None}\PY{p}{)}\PY{p}{:}

        \PY{l+s+sd}{"""}
\PY{l+s+sd}{        Open a dialogue box (dialog) using a program appropriate to the desktop}
\PY{l+s+sd}{        environment in use.}

\PY{l+s+sd}{        If the optional 'desktop' parameter is specified then attempt to use}
\PY{l+s+sd}{        that particular desktop environment's mechanisms to open the dialog}
\PY{l+s+sd}{        instead of guessing or detecting which environment is being used.}

\PY{l+s+sd}{        Suggested values for 'desktop' are "standard", "KDE", "GNOME",}
\PY{l+s+sd}{        "Mac OS X", "Windows".}

\PY{l+s+sd}{        The result of the dialogue interaction may be a string indicating user}
\PY{l+s+sd}{        input (for Input, Password, Menu, Pulldown), a list of strings}
\PY{l+s+sd}{        indicating selections of one or more items (for RadioList, CheckList),}
\PY{l+s+sd}{        or a value indicating true or false (for Question, Warning, Message,}
\PY{l+s+sd}{        Error).}

\PY{l+s+sd}{        Where a string value may be expected but no choice is made, an empty}
\PY{l+s+sd}{        string may be returned. Similarly, where a list of values is expected}
\PY{l+s+sd}{        but no choice is made, an empty list may be returned.}
\PY{l+s+sd}{        """}

        \PY{c}{\PYZsh{} Decide on the desktop environment in use.}

        \PY{n}{desktop\PYZus{}in\PYZus{}use} \PY{o}{=} \PY{n}{use\PYZus{}desktop}\PY{p}{(}\PY{n}{desktop}\PY{p}{)}

        \PY{c}{\PYZsh{} Get the program.}

        \PY{k}{try}\PY{p}{:}
            \PY{n}{program} \PY{o}{=} \PY{n+nb+bp}{self}\PY{o}{.}\PY{n}{commands}\PY{p}{[}\PY{n}{desktop\PYZus{}in\PYZus{}use}\PY{p}{]}
        \PY{k}{except} \PY{n+ne}{KeyError}\PY{p}{:}
            \PY{k}{raise} \PY{n+ne}{OSError}\PY{p}{,} \PY{l+s}{"}\PY{l+s}{Desktop }\PY{l+s}{'}\PY{l+s+si}{\PYZpc{}s}\PY{l+s}{'}\PY{l+s}{ not supported (no known dialogue box command could be suggested)}\PY{l+s}{"} \PY{o}{\PYZpc{}} \PY{n}{desktop\PYZus{}in\PYZus{}use}

        \PY{c}{\PYZsh{} The handler is one of the functions communicating with the subprocess.}
        \PY{c}{\PYZsh{} Some handlers return boolean values, others strings.}

        \PY{n}{handler}\PY{p}{,} \PY{n}{options} \PY{o}{=} \PY{n+nb+bp}{self}\PY{o}{.}\PY{n}{info}\PY{p}{[}\PY{n}{program}\PY{p}{]}

        \PY{n}{cmd} \PY{o}{=} \PY{p}{[}\PY{n}{program}\PY{p}{]}
        \PY{k}{for} \PY{n}{option} \PY{o+ow}{in} \PY{n}{options}\PY{p}{:}
            \PY{k}{if} \PY{n+nb}{isinstance}\PY{p}{(}\PY{n}{option}\PY{p}{,} \PY{n+nb}{str}\PY{p}{)}\PY{p}{:}
                \PY{n}{cmd}\PY{o}{.}\PY{n}{append}\PY{p}{(}\PY{n}{option}\PY{p}{)}
            \PY{k}{else}\PY{p}{:}
                \PY{n}{value} \PY{o}{=} \PY{n+nb}{getattr}\PY{p}{(}\PY{n+nb+bp}{self}\PY{p}{,} \PY{n}{option}\PY{o}{.}\PY{n}{name}\PY{p}{,} \PY{n+nb+bp}{None}\PY{p}{)}
                \PY{n}{cmd} \PY{o}{+}\PY{o}{=} \PY{n}{option}\PY{o}{.}\PY{n}{convert}\PY{p}{(}\PY{n}{value}\PY{p}{,} \PY{n}{program}\PY{p}{)}

        \PY{k}{return} \PY{n}{handler}\PY{p}{(}\PY{n}{cmd}\PY{p}{,} \PY{l+m+mi}{0}\PY{p}{)}

\PY{k}{class} \PY{n+nc}{Simple}\PY{p}{(}\PY{n}{Dialogue}\PY{p}{)}\PY{p}{:}
    \PY{k}{def} \PY{n+nf}{\PYZus{}\PYZus{}init\PYZus{}\PYZus{}}\PY{p}{(}\PY{n+nb+bp}{self}\PY{p}{,} \PY{n}{text}\PY{p}{,} \PY{n}{width}\PY{o}{=}\PY{n+nb+bp}{None}\PY{p}{,} \PY{n}{height}\PY{o}{=}\PY{n+nb+bp}{None}\PY{p}{)}\PY{p}{:}
        \PY{n+nb+bp}{self}\PY{o}{.}\PY{n}{text} \PY{o}{=} \PY{n}{text}
        \PY{n+nb+bp}{self}\PY{o}{.}\PY{n}{width} \PY{o}{=} \PY{n}{width}
        \PY{n+nb+bp}{self}\PY{o}{.}\PY{n}{height} \PY{o}{=} \PY{n}{height}

\PY{k}{class} \PY{n+nc}{Question}\PY{p}{(}\PY{n}{Simple}\PY{p}{)}\PY{p}{:}

    \PY{l+s+sd}{"""}
\PY{l+s+sd}{    A dialogue asking a question and showing response buttons.}
\PY{l+s+sd}{    Options: text, width (in characters), height (in characters)}
\PY{l+s+sd}{    Response: a boolean value indicating an affirmative response (true) or a}
\PY{l+s+sd}{              negative response}
\PY{l+s+sd}{    """}

    \PY{n}{name} \PY{o}{=} \PY{l+s}{"}\PY{l+s}{question}\PY{l+s}{"}
    \PY{n}{info} \PY{o}{=} \PY{p}{\PYZob{}}
        \PY{l+s}{"}\PY{l+s}{kdialog}\PY{l+s}{"} \PY{p}{:} \PY{p}{(}\PY{n}{\PYZus{}status}\PY{p}{,} \PY{p}{[}\PY{l+s}{"}\PY{l+s}{--yesno}\PY{l+s}{"}\PY{p}{,} \PY{n}{String}\PY{p}{(}\PY{l+s}{"}\PY{l+s}{text}\PY{l+s}{"}\PY{p}{)}\PY{p}{]}\PY{p}{)}\PY{p}{,}
        \PY{l+s}{"}\PY{l+s}{zenity}\PY{l+s}{"} \PY{p}{:} \PY{p}{(}\PY{n}{\PYZus{}status}\PY{p}{,} \PY{p}{[}\PY{l+s}{"}\PY{l+s}{--question}\PY{l+s}{"}\PY{p}{,} \PY{n}{StringKeyword}\PY{p}{(}\PY{l+s}{"}\PY{l+s}{--text}\PY{l+s}{"}\PY{p}{,} \PY{l+s}{"}\PY{l+s}{text}\PY{l+s}{"}\PY{p}{)}\PY{p}{]}\PY{p}{)}\PY{p}{,}
        \PY{l+s}{"}\PY{l+s}{Xdialog}\PY{l+s}{"} \PY{p}{:} \PY{p}{(}\PY{n}{\PYZus{}status}\PY{p}{,} \PY{p}{[}\PY{l+s}{"}\PY{l+s}{--stdout}\PY{l+s}{"}\PY{p}{,} \PY{l+s}{"}\PY{l+s}{--yesno}\PY{l+s}{"}\PY{p}{,} \PY{n}{String}\PY{p}{(}\PY{l+s}{"}\PY{l+s}{text}\PY{l+s}{"}\PY{p}{)}\PY{p}{,} \PY{n}{Integer}\PY{p}{(}\PY{l+s}{"}\PY{l+s}{height}\PY{l+s}{"}\PY{p}{)}\PY{p}{,} \PY{n}{Integer}\PY{p}{(}\PY{l+s}{"}\PY{l+s}{width}\PY{l+s}{"}\PY{p}{)}\PY{p}{]}\PY{p}{)}\PY{p}{,}
        \PY{p}{\PYZcb{}}

\PY{k}{class} \PY{n+nc}{Warning}\PY{p}{(}\PY{n}{Simple}\PY{p}{)}\PY{p}{:}

    \PY{l+s+sd}{"""}
\PY{l+s+sd}{    A dialogue asking a question and showing response buttons.}
\PY{l+s+sd}{    Options: text, width (in characters), height (in characters)}
\PY{l+s+sd}{    Response: a boolean value indicating an affirmative response (true) or a}
\PY{l+s+sd}{              negative response}
\PY{l+s+sd}{    """}

    \PY{n}{name} \PY{o}{=} \PY{l+s}{"}\PY{l+s}{warning}\PY{l+s}{"}
    \PY{n}{info} \PY{o}{=} \PY{p}{\PYZob{}}
        \PY{l+s}{"}\PY{l+s}{kdialog}\PY{l+s}{"} \PY{p}{:} \PY{p}{(}\PY{n}{\PYZus{}status}\PY{p}{,} \PY{p}{[}\PY{l+s}{"}\PY{l+s}{--warningyesno}\PY{l+s}{"}\PY{p}{,} \PY{n}{String}\PY{p}{(}\PY{l+s}{"}\PY{l+s}{text}\PY{l+s}{"}\PY{p}{)}\PY{p}{]}\PY{p}{)}\PY{p}{,}
        \PY{l+s}{"}\PY{l+s}{zenity}\PY{l+s}{"} \PY{p}{:} \PY{p}{(}\PY{n}{\PYZus{}status}\PY{p}{,} \PY{p}{[}\PY{l+s}{"}\PY{l+s}{--warning}\PY{l+s}{"}\PY{p}{,} \PY{n}{StringKeyword}\PY{p}{(}\PY{l+s}{"}\PY{l+s}{--text}\PY{l+s}{"}\PY{p}{,} \PY{l+s}{"}\PY{l+s}{text}\PY{l+s}{"}\PY{p}{)}\PY{p}{]}\PY{p}{)}\PY{p}{,}
        \PY{l+s}{"}\PY{l+s}{Xdialog}\PY{l+s}{"} \PY{p}{:} \PY{p}{(}\PY{n}{\PYZus{}status}\PY{p}{,} \PY{p}{[}\PY{l+s}{"}\PY{l+s}{--stdout}\PY{l+s}{"}\PY{p}{,} \PY{l+s}{"}\PY{l+s}{--yesno}\PY{l+s}{"}\PY{p}{,} \PY{n}{String}\PY{p}{(}\PY{l+s}{"}\PY{l+s}{text}\PY{l+s}{"}\PY{p}{)}\PY{p}{,} \PY{n}{Integer}\PY{p}{(}\PY{l+s}{"}\PY{l+s}{height}\PY{l+s}{"}\PY{p}{)}\PY{p}{,} \PY{n}{Integer}\PY{p}{(}\PY{l+s}{"}\PY{l+s}{width}\PY{l+s}{"}\PY{p}{)}\PY{p}{]}\PY{p}{)}\PY{p}{,}
        \PY{p}{\PYZcb{}}

\PY{k}{class} \PY{n+nc}{Message}\PY{p}{(}\PY{n}{Simple}\PY{p}{)}\PY{p}{:}

    \PY{l+s+sd}{"""}
\PY{l+s+sd}{    A message dialogue.}
\PY{l+s+sd}{    Options: text, width (in characters), height (in characters)}
\PY{l+s+sd}{    Response: a boolean value indicating an affirmative response (true) or a}
\PY{l+s+sd}{              negative response}
\PY{l+s+sd}{    """}

    \PY{n}{name} \PY{o}{=} \PY{l+s}{"}\PY{l+s}{message}\PY{l+s}{"}
    \PY{n}{info} \PY{o}{=} \PY{p}{\PYZob{}}
        \PY{l+s}{"}\PY{l+s}{kdialog}\PY{l+s}{"} \PY{p}{:} \PY{p}{(}\PY{n}{\PYZus{}status}\PY{p}{,} \PY{p}{[}\PY{l+s}{"}\PY{l+s}{--msgbox}\PY{l+s}{"}\PY{p}{,} \PY{n}{String}\PY{p}{(}\PY{l+s}{"}\PY{l+s}{text}\PY{l+s}{"}\PY{p}{)}\PY{p}{]}\PY{p}{)}\PY{p}{,}
        \PY{l+s}{"}\PY{l+s}{zenity}\PY{l+s}{"} \PY{p}{:} \PY{p}{(}\PY{n}{\PYZus{}status}\PY{p}{,} \PY{p}{[}\PY{l+s}{"}\PY{l+s}{--info}\PY{l+s}{"}\PY{p}{,} \PY{n}{StringKeyword}\PY{p}{(}\PY{l+s}{"}\PY{l+s}{--text}\PY{l+s}{"}\PY{p}{,} \PY{l+s}{"}\PY{l+s}{text}\PY{l+s}{"}\PY{p}{)}\PY{p}{]}\PY{p}{)}\PY{p}{,}
        \PY{l+s}{"}\PY{l+s}{Xdialog}\PY{l+s}{"} \PY{p}{:} \PY{p}{(}\PY{n}{\PYZus{}status}\PY{p}{,} \PY{p}{[}\PY{l+s}{"}\PY{l+s}{--stdout}\PY{l+s}{"}\PY{p}{,} \PY{l+s}{"}\PY{l+s}{--msgbox}\PY{l+s}{"}\PY{p}{,} \PY{n}{String}\PY{p}{(}\PY{l+s}{"}\PY{l+s}{text}\PY{l+s}{"}\PY{p}{)}\PY{p}{,} \PY{n}{Integer}\PY{p}{(}\PY{l+s}{"}\PY{l+s}{height}\PY{l+s}{"}\PY{p}{)}\PY{p}{,} \PY{n}{Integer}\PY{p}{(}\PY{l+s}{"}\PY{l+s}{width}\PY{l+s}{"}\PY{p}{)}\PY{p}{]}\PY{p}{)}\PY{p}{,}
        \PY{p}{\PYZcb{}}

\PY{k}{class} \PY{n+nc}{Error}\PY{p}{(}\PY{n}{Simple}\PY{p}{)}\PY{p}{:}

    \PY{l+s+sd}{"""}
\PY{l+s+sd}{    An error dialogue.}
\PY{l+s+sd}{    Options: text, width (in characters), height (in characters)}
\PY{l+s+sd}{    Response: a boolean value indicating an affirmative response (true) or a}
\PY{l+s+sd}{              negative response}
\PY{l+s+sd}{    """}

    \PY{n}{name} \PY{o}{=} \PY{l+s}{"}\PY{l+s}{error}\PY{l+s}{"}
    \PY{n}{info} \PY{o}{=} \PY{p}{\PYZob{}}
        \PY{l+s}{"}\PY{l+s}{kdialog}\PY{l+s}{"} \PY{p}{:} \PY{p}{(}\PY{n}{\PYZus{}status}\PY{p}{,} \PY{p}{[}\PY{l+s}{"}\PY{l+s}{--error}\PY{l+s}{"}\PY{p}{,} \PY{n}{String}\PY{p}{(}\PY{l+s}{"}\PY{l+s}{text}\PY{l+s}{"}\PY{p}{)}\PY{p}{]}\PY{p}{)}\PY{p}{,}
        \PY{l+s}{"}\PY{l+s}{zenity}\PY{l+s}{"} \PY{p}{:} \PY{p}{(}\PY{n}{\PYZus{}status}\PY{p}{,} \PY{p}{[}\PY{l+s}{"}\PY{l+s}{--error}\PY{l+s}{"}\PY{p}{,} \PY{n}{StringKeyword}\PY{p}{(}\PY{l+s}{"}\PY{l+s}{--text}\PY{l+s}{"}\PY{p}{,} \PY{l+s}{"}\PY{l+s}{text}\PY{l+s}{"}\PY{p}{)}\PY{p}{]}\PY{p}{)}\PY{p}{,}
        \PY{l+s}{"}\PY{l+s}{Xdialog}\PY{l+s}{"} \PY{p}{:} \PY{p}{(}\PY{n}{\PYZus{}status}\PY{p}{,} \PY{p}{[}\PY{l+s}{"}\PY{l+s}{--stdout}\PY{l+s}{"}\PY{p}{,} \PY{l+s}{"}\PY{l+s}{--msgbox}\PY{l+s}{"}\PY{p}{,} \PY{n}{String}\PY{p}{(}\PY{l+s}{"}\PY{l+s}{text}\PY{l+s}{"}\PY{p}{)}\PY{p}{,} \PY{n}{Integer}\PY{p}{(}\PY{l+s}{"}\PY{l+s}{height}\PY{l+s}{"}\PY{p}{)}\PY{p}{,} \PY{n}{Integer}\PY{p}{(}\PY{l+s}{"}\PY{l+s}{width}\PY{l+s}{"}\PY{p}{)}\PY{p}{]}\PY{p}{)}\PY{p}{,}
        \PY{p}{\PYZcb{}}

\PY{k}{class} \PY{n+nc}{Menu}\PY{p}{(}\PY{n}{Simple}\PY{p}{)}\PY{p}{:}

    \PY{l+s+sd}{"""}
\PY{l+s+sd}{    A menu of options, one of which being selectable.}
\PY{l+s+sd}{    Options: text, width (in characters), height (in characters),}
\PY{l+s+sd}{             list\PYZus{}height (in items), items (MenuItem objects)}
\PY{l+s+sd}{    Response: a value corresponding to the chosen item}
\PY{l+s+sd}{    """}

    \PY{n}{name} \PY{o}{=} \PY{l+s}{"}\PY{l+s}{menu}\PY{l+s}{"}
    \PY{n}{info} \PY{o}{=} \PY{p}{\PYZob{}}
        \PY{l+s}{"}\PY{l+s}{kdialog}\PY{l+s}{"} \PY{p}{:} \PY{p}{(}\PY{n}{\PYZus{}readvalue}\PY{p}{(}\PY{n}{\PYZus{}readfrom}\PY{p}{)}\PY{p}{,} \PY{p}{[}\PY{l+s}{"}\PY{l+s}{--menu}\PY{l+s}{"}\PY{p}{,} \PY{n}{String}\PY{p}{(}\PY{l+s}{"}\PY{l+s}{text}\PY{l+s}{"}\PY{p}{)}\PY{p}{,} \PY{n}{MenuItemList}\PY{p}{(}\PY{l+s}{"}\PY{l+s}{items}\PY{l+s}{"}\PY{p}{)}\PY{p}{]}\PY{p}{)}\PY{p}{,}
        \PY{l+s}{"}\PY{l+s}{zenity}\PY{l+s}{"} \PY{p}{:} \PY{p}{(}\PY{n}{\PYZus{}readvalue}\PY{p}{(}\PY{n}{\PYZus{}readfrom}\PY{p}{)}\PY{p}{,} \PY{p}{[}\PY{l+s}{"}\PY{l+s}{--list}\PY{l+s}{"}\PY{p}{,} \PY{n}{StringKeyword}\PY{p}{(}\PY{l+s}{"}\PY{l+s}{--text}\PY{l+s}{"}\PY{p}{,} \PY{l+s}{"}\PY{l+s}{text}\PY{l+s}{"}\PY{p}{)}\PY{p}{,} \PY{n}{StringKeywords}\PY{p}{(}\PY{l+s}{"}\PY{l+s}{--column}\PY{l+s}{"}\PY{p}{,} \PY{l+s}{"}\PY{l+s}{titles}\PY{l+s}{"}\PY{p}{)}\PY{p}{,}
            \PY{n}{MenuItemList}\PY{p}{(}\PY{l+s}{"}\PY{l+s}{items}\PY{l+s}{"}\PY{p}{)}\PY{p}{]}
            \PY{p}{)}\PY{p}{,}
        \PY{l+s}{"}\PY{l+s}{Xdialog}\PY{l+s}{"} \PY{p}{:} \PY{p}{(}\PY{n}{\PYZus{}readvalue}\PY{p}{(}\PY{n}{\PYZus{}readfrom}\PY{p}{)}\PY{p}{,} \PY{p}{[}\PY{l+s}{"}\PY{l+s}{--stdout}\PY{l+s}{"}\PY{p}{,} \PY{l+s}{"}\PY{l+s}{--menubox}\PY{l+s}{"}\PY{p}{,}
            \PY{n}{String}\PY{p}{(}\PY{l+s}{"}\PY{l+s}{text}\PY{l+s}{"}\PY{p}{)}\PY{p}{,} \PY{n}{Integer}\PY{p}{(}\PY{l+s}{"}\PY{l+s}{height}\PY{l+s}{"}\PY{p}{)}\PY{p}{,} \PY{n}{Integer}\PY{p}{(}\PY{l+s}{"}\PY{l+s}{width}\PY{l+s}{"}\PY{p}{)}\PY{p}{,} \PY{n}{Integer}\PY{p}{(}\PY{l+s}{"}\PY{l+s}{list\PYZus{}height}\PY{l+s}{"}\PY{p}{)}\PY{p}{,} \PY{n}{MenuItemList}\PY{p}{(}\PY{l+s}{"}\PY{l+s}{items}\PY{l+s}{"}\PY{p}{)}\PY{p}{]}
            \PY{p}{)}\PY{p}{,}
        \PY{p}{\PYZcb{}}
    \PY{n}{item} \PY{o}{=} \PY{n}{MenuItem}
    \PY{n}{number\PYZus{}of\PYZus{}titles} \PY{o}{=} \PY{l+m+mi}{2}

    \PY{k}{def} \PY{n+nf}{\PYZus{}\PYZus{}init\PYZus{}\PYZus{}}\PY{p}{(}\PY{n+nb+bp}{self}\PY{p}{,} \PY{n}{text}\PY{p}{,} \PY{n}{titles}\PY{p}{,} \PY{n}{items}\PY{o}{=}\PY{n+nb+bp}{None}\PY{p}{,} \PY{n}{width}\PY{o}{=}\PY{n+nb+bp}{None}\PY{p}{,} \PY{n}{height}\PY{o}{=}\PY{n+nb+bp}{None}\PY{p}{,} \PY{n}{list\PYZus{}height}\PY{o}{=}\PY{n+nb+bp}{None}\PY{p}{)}\PY{p}{:}

        \PY{l+s+sd}{"""}
\PY{l+s+sd}{        Initialise a menu with the given heading 'text', column 'titles', and}
\PY{l+s+sd}{        optional 'items' (which may be added later), 'width' (in characters),}
\PY{l+s+sd}{        'height' (in characters) and 'list\PYZus{}height' (in items).}
\PY{l+s+sd}{        """}

        \PY{n}{Simple}\PY{o}{.}\PY{n}{\PYZus{}\PYZus{}init\PYZus{}\PYZus{}}\PY{p}{(}\PY{n+nb+bp}{self}\PY{p}{,} \PY{n}{text}\PY{p}{,} \PY{n}{width}\PY{p}{,} \PY{n}{height}\PY{p}{)}
        \PY{n+nb+bp}{self}\PY{o}{.}\PY{n}{titles} \PY{o}{=} \PY{p}{(}\PY{p}{[}\PY{l+s}{"}\PY{l+s}{"}\PY{p}{]} \PY{o}{*} \PY{n+nb+bp}{self}\PY{o}{.}\PY{n}{number\PYZus{}of\PYZus{}titles} \PY{o}{+} \PY{n}{titles}\PY{p}{)}\PY{p}{[}\PY{o}{-}\PY{n+nb+bp}{self}\PY{o}{.}\PY{n}{number\PYZus{}of\PYZus{}titles}\PY{p}{:}\PY{p}{]}
        \PY{n+nb+bp}{self}\PY{o}{.}\PY{n}{items} \PY{o}{=} \PY{n}{items} \PY{o+ow}{or} \PY{p}{[}\PY{p}{]}
        \PY{n+nb+bp}{self}\PY{o}{.}\PY{n}{list\PYZus{}height} \PY{o}{=} \PY{n}{list\PYZus{}height}

    \PY{k}{def} \PY{n+nf}{add}\PY{p}{(}\PY{n+nb+bp}{self}\PY{p}{,} \PY{o}{*}\PY{n}{args}\PY{p}{,} \PY{o}{*}\PY{o}{*}\PY{n}{kw}\PY{p}{)}\PY{p}{:}

        \PY{l+s+sd}{"""}
\PY{l+s+sd}{        Add an item, passing the given arguments to the appropriate item class.}
\PY{l+s+sd}{        """}

        \PY{n+nb+bp}{self}\PY{o}{.}\PY{n}{items}\PY{o}{.}\PY{n}{append}\PY{p}{(}\PY{n+nb+bp}{self}\PY{o}{.}\PY{n}{item}\PY{p}{(}\PY{o}{*}\PY{n}{args}\PY{p}{,} \PY{o}{*}\PY{o}{*}\PY{n}{kw}\PY{p}{)}\PY{p}{)}

\PY{k}{class} \PY{n+nc}{RadioList}\PY{p}{(}\PY{n}{Menu}\PY{p}{)}\PY{p}{:}

    \PY{l+s+sd}{"""}
\PY{l+s+sd}{    A list of radio buttons, one of which being selectable.}
\PY{l+s+sd}{    Options: text, width (in characters), height (in characters),}
\PY{l+s+sd}{             list\PYZus{}height (in items), items (MenuItem objects), titles}
\PY{l+s+sd}{    Response: a list of values corresponding to chosen items (since some}
\PY{l+s+sd}{              programs, eg. zenity, appear to support multiple default}
\PY{l+s+sd}{              selections)}
\PY{l+s+sd}{    """}

    \PY{n}{name} \PY{o}{=} \PY{l+s}{"}\PY{l+s}{radiolist}\PY{l+s}{"}
    \PY{n}{info} \PY{o}{=} \PY{p}{\PYZob{}}
        \PY{l+s}{"}\PY{l+s}{kdialog}\PY{l+s}{"} \PY{p}{:} \PY{p}{(}\PY{n}{\PYZus{}readvalues\PYZus{}kdialog}\PY{p}{(}\PY{n}{\PYZus{}readfrom}\PY{p}{)}\PY{p}{,} \PY{p}{[}\PY{l+s}{"}\PY{l+s}{--radiolist}\PY{l+s}{"}\PY{p}{,} \PY{n}{String}\PY{p}{(}\PY{l+s}{"}\PY{l+s}{text}\PY{l+s}{"}\PY{p}{)}\PY{p}{,} \PY{n}{ListItemList}\PY{p}{(}\PY{l+s}{"}\PY{l+s}{items}\PY{l+s}{"}\PY{p}{)}\PY{p}{]}\PY{p}{)}\PY{p}{,}
        \PY{l+s}{"}\PY{l+s}{zenity}\PY{l+s}{"} \PY{p}{:} \PY{p}{(}\PY{n}{\PYZus{}readvalues\PYZus{}zenity}\PY{p}{(}\PY{n}{\PYZus{}readfrom}\PY{p}{)}\PY{p}{,}
            \PY{p}{[}\PY{l+s}{"}\PY{l+s}{--list}\PY{l+s}{"}\PY{p}{,} \PY{l+s}{"}\PY{l+s}{--radiolist}\PY{l+s}{"}\PY{p}{,} \PY{n}{StringKeyword}\PY{p}{(}\PY{l+s}{"}\PY{l+s}{--text}\PY{l+s}{"}\PY{p}{,} \PY{l+s}{"}\PY{l+s}{text}\PY{l+s}{"}\PY{p}{)}\PY{p}{,} \PY{n}{StringKeywords}\PY{p}{(}\PY{l+s}{"}\PY{l+s}{--column}\PY{l+s}{"}\PY{p}{,} \PY{l+s}{"}\PY{l+s}{titles}\PY{l+s}{"}\PY{p}{)}\PY{p}{,}
            \PY{n}{ListItemList}\PY{p}{(}\PY{l+s}{"}\PY{l+s}{items}\PY{l+s}{"}\PY{p}{,} \PY{l+m+mi}{1}\PY{p}{)}\PY{p}{]}
            \PY{p}{)}\PY{p}{,}
        \PY{l+s}{"}\PY{l+s}{Xdialog}\PY{l+s}{"} \PY{p}{:} \PY{p}{(}\PY{n}{\PYZus{}readvalues\PYZus{}Xdialog}\PY{p}{(}\PY{n}{\PYZus{}readfrom}\PY{p}{)}\PY{p}{,} \PY{p}{[}\PY{l+s}{"}\PY{l+s}{--stdout}\PY{l+s}{"}\PY{p}{,} \PY{l+s}{"}\PY{l+s}{--radiolist}\PY{l+s}{"}\PY{p}{,}
            \PY{n}{String}\PY{p}{(}\PY{l+s}{"}\PY{l+s}{text}\PY{l+s}{"}\PY{p}{)}\PY{p}{,} \PY{n}{Integer}\PY{p}{(}\PY{l+s}{"}\PY{l+s}{height}\PY{l+s}{"}\PY{p}{)}\PY{p}{,} \PY{n}{Integer}\PY{p}{(}\PY{l+s}{"}\PY{l+s}{width}\PY{l+s}{"}\PY{p}{)}\PY{p}{,} \PY{n}{Integer}\PY{p}{(}\PY{l+s}{"}\PY{l+s}{list\PYZus{}height}\PY{l+s}{"}\PY{p}{)}\PY{p}{,} \PY{n}{ListItemList}\PY{p}{(}\PY{l+s}{"}\PY{l+s}{items}\PY{l+s}{"}\PY{p}{)}\PY{p}{]}
            \PY{p}{)}\PY{p}{,}
        \PY{p}{\PYZcb{}}
    \PY{n}{number\PYZus{}of\PYZus{}titles} \PY{o}{=} \PY{l+m+mi}{3}

\PY{k}{class} \PY{n+nc}{CheckList}\PY{p}{(}\PY{n}{Menu}\PY{p}{)}\PY{p}{:}

    \PY{l+s+sd}{"""}
\PY{l+s+sd}{    A list of checkboxes, many being selectable.}
\PY{l+s+sd}{    Options: text, width (in characters), height (in characters),}
\PY{l+s+sd}{             list\PYZus{}height (in items), items (MenuItem objects), titles}
\PY{l+s+sd}{    Response: a list of values corresponding to chosen items}
\PY{l+s+sd}{    """}

    \PY{n}{name} \PY{o}{=} \PY{l+s}{"}\PY{l+s}{checklist}\PY{l+s}{"}
    \PY{n}{info} \PY{o}{=} \PY{p}{\PYZob{}}
        \PY{l+s}{"}\PY{l+s}{kdialog}\PY{l+s}{"} \PY{p}{:} \PY{p}{(}\PY{n}{\PYZus{}readvalues\PYZus{}kdialog}\PY{p}{(}\PY{n}{\PYZus{}readfrom}\PY{p}{)}\PY{p}{,} \PY{p}{[}\PY{l+s}{"}\PY{l+s}{--checklist}\PY{l+s}{"}\PY{p}{,} \PY{n}{String}\PY{p}{(}\PY{l+s}{"}\PY{l+s}{text}\PY{l+s}{"}\PY{p}{)}\PY{p}{,} \PY{n}{ListItemList}\PY{p}{(}\PY{l+s}{"}\PY{l+s}{items}\PY{l+s}{"}\PY{p}{)}\PY{p}{]}\PY{p}{)}\PY{p}{,}
        \PY{l+s}{"}\PY{l+s}{zenity}\PY{l+s}{"} \PY{p}{:} \PY{p}{(}\PY{n}{\PYZus{}readvalues\PYZus{}zenity}\PY{p}{(}\PY{n}{\PYZus{}readfrom}\PY{p}{)}\PY{p}{,}
            \PY{p}{[}\PY{l+s}{"}\PY{l+s}{--list}\PY{l+s}{"}\PY{p}{,} \PY{l+s}{"}\PY{l+s}{--checklist}\PY{l+s}{"}\PY{p}{,} \PY{n}{StringKeyword}\PY{p}{(}\PY{l+s}{"}\PY{l+s}{--text}\PY{l+s}{"}\PY{p}{,} \PY{l+s}{"}\PY{l+s}{text}\PY{l+s}{"}\PY{p}{)}\PY{p}{,} \PY{n}{StringKeywords}\PY{p}{(}\PY{l+s}{"}\PY{l+s}{--column}\PY{l+s}{"}\PY{p}{,} \PY{l+s}{"}\PY{l+s}{titles}\PY{l+s}{"}\PY{p}{)}\PY{p}{,}
            \PY{n}{ListItemList}\PY{p}{(}\PY{l+s}{"}\PY{l+s}{items}\PY{l+s}{"}\PY{p}{,} \PY{l+m+mi}{1}\PY{p}{)}\PY{p}{]}
            \PY{p}{)}\PY{p}{,}
        \PY{l+s}{"}\PY{l+s}{Xdialog}\PY{l+s}{"} \PY{p}{:} \PY{p}{(}\PY{n}{\PYZus{}readvalues\PYZus{}Xdialog}\PY{p}{(}\PY{n}{\PYZus{}readfrom}\PY{p}{)}\PY{p}{,} \PY{p}{[}\PY{l+s}{"}\PY{l+s}{--stdout}\PY{l+s}{"}\PY{p}{,} \PY{l+s}{"}\PY{l+s}{--checklist}\PY{l+s}{"}\PY{p}{,}
            \PY{n}{String}\PY{p}{(}\PY{l+s}{"}\PY{l+s}{text}\PY{l+s}{"}\PY{p}{)}\PY{p}{,} \PY{n}{Integer}\PY{p}{(}\PY{l+s}{"}\PY{l+s}{height}\PY{l+s}{"}\PY{p}{)}\PY{p}{,} \PY{n}{Integer}\PY{p}{(}\PY{l+s}{"}\PY{l+s}{width}\PY{l+s}{"}\PY{p}{)}\PY{p}{,} \PY{n}{Integer}\PY{p}{(}\PY{l+s}{"}\PY{l+s}{list\PYZus{}height}\PY{l+s}{"}\PY{p}{)}\PY{p}{,} \PY{n}{ListItemList}\PY{p}{(}\PY{l+s}{"}\PY{l+s}{items}\PY{l+s}{"}\PY{p}{)}\PY{p}{]}
            \PY{p}{)}\PY{p}{,}
        \PY{p}{\PYZcb{}}
    \PY{n}{number\PYZus{}of\PYZus{}titles} \PY{o}{=} \PY{l+m+mi}{3}

\PY{k}{class} \PY{n+nc}{Pulldown}\PY{p}{(}\PY{n}{Menu}\PY{p}{)}\PY{p}{:}

    \PY{l+s+sd}{"""}
\PY{l+s+sd}{    A pull-down menu of options, one of which being selectable.}
\PY{l+s+sd}{    Options: text, width (in characters), height (in characters),}
\PY{l+s+sd}{             items (list of values)}
\PY{l+s+sd}{    Response: a value corresponding to the chosen item}
\PY{l+s+sd}{    """}

    \PY{n}{name} \PY{o}{=} \PY{l+s}{"}\PY{l+s}{pulldown}\PY{l+s}{"}
    \PY{n}{info} \PY{o}{=} \PY{p}{\PYZob{}}
        \PY{l+s}{"}\PY{l+s}{kdialog}\PY{l+s}{"} \PY{p}{:} \PY{p}{(}\PY{n}{\PYZus{}readvalue}\PY{p}{(}\PY{n}{\PYZus{}readfrom}\PY{p}{)}\PY{p}{,} \PY{p}{[}\PY{l+s}{"}\PY{l+s}{--combobox}\PY{l+s}{"}\PY{p}{,} \PY{n}{String}\PY{p}{(}\PY{l+s}{"}\PY{l+s}{text}\PY{l+s}{"}\PY{p}{)}\PY{p}{,} \PY{n}{Strings}\PY{p}{(}\PY{l+s}{"}\PY{l+s}{items}\PY{l+s}{"}\PY{p}{)}\PY{p}{]}\PY{p}{)}\PY{p}{,}
        \PY{l+s}{"}\PY{l+s}{zenity}\PY{l+s}{"} \PY{p}{:} \PY{p}{(}\PY{n}{\PYZus{}readvalue}\PY{p}{(}\PY{n}{\PYZus{}readfrom}\PY{p}{)}\PY{p}{,}
            \PY{p}{[}\PY{l+s}{"}\PY{l+s}{--list}\PY{l+s}{"}\PY{p}{,} \PY{l+s}{"}\PY{l+s}{--radiolist}\PY{l+s}{"}\PY{p}{,} \PY{n}{StringKeyword}\PY{p}{(}\PY{l+s}{"}\PY{l+s}{--text}\PY{l+s}{"}\PY{p}{,} \PY{l+s}{"}\PY{l+s}{text}\PY{l+s}{"}\PY{p}{)}\PY{p}{,} \PY{n}{StringKeywords}\PY{p}{(}\PY{l+s}{"}\PY{l+s}{--column}\PY{l+s}{"}\PY{p}{,} \PY{l+s}{"}\PY{l+s}{titles}\PY{l+s}{"}\PY{p}{)}\PY{p}{,}
            \PY{n}{StringPairs}\PY{p}{(}\PY{l+s}{"}\PY{l+s}{items}\PY{l+s}{"}\PY{p}{)}\PY{p}{]}
            \PY{p}{)}\PY{p}{,}
        \PY{l+s}{"}\PY{l+s}{Xdialog}\PY{l+s}{"} \PY{p}{:} \PY{p}{(}\PY{n}{\PYZus{}readvalue}\PY{p}{(}\PY{n}{\PYZus{}readfrom}\PY{p}{)}\PY{p}{,}
            \PY{p}{[}\PY{l+s}{"}\PY{l+s}{--stdout}\PY{l+s}{"}\PY{p}{,} \PY{l+s}{"}\PY{l+s}{--combobox}\PY{l+s}{"}\PY{p}{,} \PY{n}{String}\PY{p}{(}\PY{l+s}{"}\PY{l+s}{text}\PY{l+s}{"}\PY{p}{)}\PY{p}{,} \PY{n}{Integer}\PY{p}{(}\PY{l+s}{"}\PY{l+s}{height}\PY{l+s}{"}\PY{p}{)}\PY{p}{,} \PY{n}{Integer}\PY{p}{(}\PY{l+s}{"}\PY{l+s}{width}\PY{l+s}{"}\PY{p}{)}\PY{p}{,} \PY{n}{Strings}\PY{p}{(}\PY{l+s}{"}\PY{l+s}{items}\PY{l+s}{"}\PY{p}{)}\PY{p}{]}\PY{p}{)}\PY{p}{,}
        \PY{p}{\PYZcb{}}
    \PY{n}{item} \PY{o}{=} \PY{n+nb}{unicode}
    \PY{n}{number\PYZus{}of\PYZus{}titles} \PY{o}{=} \PY{l+m+mi}{2}

\PY{k}{class} \PY{n+nc}{Input}\PY{p}{(}\PY{n}{Simple}\PY{p}{)}\PY{p}{:}

    \PY{l+s+sd}{"""}
\PY{l+s+sd}{    An input dialogue, consisting of an input field.}
\PY{l+s+sd}{    Options: text, input, width (in characters), height (in characters)}
\PY{l+s+sd}{    Response: the text entered into the dialogue by the user}
\PY{l+s+sd}{    """}

    \PY{n}{name} \PY{o}{=} \PY{l+s}{"}\PY{l+s}{input}\PY{l+s}{"}
    \PY{n}{info} \PY{o}{=} \PY{p}{\PYZob{}}
        \PY{l+s}{"}\PY{l+s}{kdialog}\PY{l+s}{"} \PY{p}{:} \PY{p}{(}\PY{n}{\PYZus{}readinput}\PY{p}{(}\PY{n}{\PYZus{}readfrom}\PY{p}{)}\PY{p}{,}
            \PY{p}{[}\PY{l+s}{"}\PY{l+s}{--inputbox}\PY{l+s}{"}\PY{p}{,} \PY{n}{String}\PY{p}{(}\PY{l+s}{"}\PY{l+s}{text}\PY{l+s}{"}\PY{p}{)}\PY{p}{,} \PY{n}{String}\PY{p}{(}\PY{l+s}{"}\PY{l+s}{data}\PY{l+s}{"}\PY{p}{)}\PY{p}{]}\PY{p}{)}\PY{p}{,}
        \PY{l+s}{"}\PY{l+s}{zenity}\PY{l+s}{"} \PY{p}{:} \PY{p}{(}\PY{n}{\PYZus{}readinput}\PY{p}{(}\PY{n}{\PYZus{}readfrom}\PY{p}{)}\PY{p}{,}
            \PY{p}{[}\PY{l+s}{"}\PY{l+s}{--entry}\PY{l+s}{"}\PY{p}{,} \PY{n}{StringKeyword}\PY{p}{(}\PY{l+s}{"}\PY{l+s}{--text}\PY{l+s}{"}\PY{p}{,} \PY{l+s}{"}\PY{l+s}{text}\PY{l+s}{"}\PY{p}{)}\PY{p}{,} \PY{n}{StringKeyword}\PY{p}{(}\PY{l+s}{"}\PY{l+s}{--entry-text}\PY{l+s}{"}\PY{p}{,} \PY{l+s}{"}\PY{l+s}{data}\PY{l+s}{"}\PY{p}{)}\PY{p}{]}\PY{p}{)}\PY{p}{,}
        \PY{l+s}{"}\PY{l+s}{Xdialog}\PY{l+s}{"} \PY{p}{:} \PY{p}{(}\PY{n}{\PYZus{}readinput}\PY{p}{(}\PY{n}{\PYZus{}readfrom}\PY{p}{)}\PY{p}{,}
            \PY{p}{[}\PY{l+s}{"}\PY{l+s}{--stdout}\PY{l+s}{"}\PY{p}{,} \PY{l+s}{"}\PY{l+s}{--inputbox}\PY{l+s}{"}\PY{p}{,} \PY{n}{String}\PY{p}{(}\PY{l+s}{"}\PY{l+s}{text}\PY{l+s}{"}\PY{p}{)}\PY{p}{,} \PY{n}{Integer}\PY{p}{(}\PY{l+s}{"}\PY{l+s}{height}\PY{l+s}{"}\PY{p}{)}\PY{p}{,} \PY{n}{Integer}\PY{p}{(}\PY{l+s}{"}\PY{l+s}{width}\PY{l+s}{"}\PY{p}{)}\PY{p}{,} \PY{n}{String}\PY{p}{(}\PY{l+s}{"}\PY{l+s}{data}\PY{l+s}{"}\PY{p}{)}\PY{p}{]}\PY{p}{)}\PY{p}{,}
        \PY{p}{\PYZcb{}}

    \PY{k}{def} \PY{n+nf}{\PYZus{}\PYZus{}init\PYZus{}\PYZus{}}\PY{p}{(}\PY{n+nb+bp}{self}\PY{p}{,} \PY{n}{text}\PY{p}{,} \PY{n}{data}\PY{o}{=}\PY{l+s}{"}\PY{l+s}{"}\PY{p}{,} \PY{n}{width}\PY{o}{=}\PY{n+nb+bp}{None}\PY{p}{,} \PY{n}{height}\PY{o}{=}\PY{n+nb+bp}{None}\PY{p}{)}\PY{p}{:}
        \PY{n}{Simple}\PY{o}{.}\PY{n}{\PYZus{}\PYZus{}init\PYZus{}\PYZus{}}\PY{p}{(}\PY{n+nb+bp}{self}\PY{p}{,} \PY{n}{text}\PY{p}{,} \PY{n}{width}\PY{p}{,} \PY{n}{height}\PY{p}{)}
        \PY{n+nb+bp}{self}\PY{o}{.}\PY{n}{data} \PY{o}{=} \PY{n}{data}

\PY{k}{class} \PY{n+nc}{Password}\PY{p}{(}\PY{n}{Input}\PY{p}{)}\PY{p}{:}

    \PY{l+s+sd}{"""}
\PY{l+s+sd}{    A password dialogue, consisting of a password entry field.}
\PY{l+s+sd}{    Options: text, width (in characters), height (in characters)}
\PY{l+s+sd}{    Response: the text entered into the dialogue by the user}
\PY{l+s+sd}{    """}

    \PY{n}{name} \PY{o}{=} \PY{l+s}{"}\PY{l+s}{password}\PY{l+s}{"}
    \PY{n}{info} \PY{o}{=} \PY{p}{\PYZob{}}
        \PY{l+s}{"}\PY{l+s}{kdialog}\PY{l+s}{"} \PY{p}{:} \PY{p}{(}\PY{n}{\PYZus{}readinput}\PY{p}{(}\PY{n}{\PYZus{}readfrom}\PY{p}{)}\PY{p}{,}
            \PY{p}{[}\PY{l+s}{"}\PY{l+s}{--password}\PY{l+s}{"}\PY{p}{,} \PY{n}{String}\PY{p}{(}\PY{l+s}{"}\PY{l+s}{text}\PY{l+s}{"}\PY{p}{)}\PY{p}{]}\PY{p}{)}\PY{p}{,}
        \PY{l+s}{"}\PY{l+s}{zenity}\PY{l+s}{"} \PY{p}{:} \PY{p}{(}\PY{n}{\PYZus{}readinput}\PY{p}{(}\PY{n}{\PYZus{}readfrom}\PY{p}{)}\PY{p}{,}
            \PY{p}{[}\PY{l+s}{"}\PY{l+s}{--entry}\PY{l+s}{"}\PY{p}{,} \PY{n}{StringKeyword}\PY{p}{(}\PY{l+s}{"}\PY{l+s}{--text}\PY{l+s}{"}\PY{p}{,} \PY{l+s}{"}\PY{l+s}{text}\PY{l+s}{"}\PY{p}{)}\PY{p}{,} \PY{l+s}{"}\PY{l+s}{--hide-text}\PY{l+s}{"}\PY{p}{]}\PY{p}{)}\PY{p}{,}
        \PY{l+s}{"}\PY{l+s}{Xdialog}\PY{l+s}{"} \PY{p}{:} \PY{p}{(}\PY{n}{\PYZus{}readinput}\PY{p}{(}\PY{n}{\PYZus{}readfrom}\PY{p}{)}\PY{p}{,}
            \PY{p}{[}\PY{l+s}{"}\PY{l+s}{--stdout}\PY{l+s}{"}\PY{p}{,} \PY{l+s}{"}\PY{l+s}{--password}\PY{l+s}{"}\PY{p}{,} \PY{l+s}{"}\PY{l+s}{--inputbox}\PY{l+s}{"}\PY{p}{,} \PY{n}{String}\PY{p}{(}\PY{l+s}{"}\PY{l+s}{text}\PY{l+s}{"}\PY{p}{)}\PY{p}{,} \PY{n}{Integer}\PY{p}{(}\PY{l+s}{"}\PY{l+s}{height}\PY{l+s}{"}\PY{p}{)}\PY{p}{,} \PY{n}{Integer}\PY{p}{(}\PY{l+s}{"}\PY{l+s}{width}\PY{l+s}{"}\PY{p}{)}\PY{p}{]}\PY{p}{)}\PY{p}{,}
        \PY{p}{\PYZcb{}}

\PY{k}{class} \PY{n+nc}{TextFile}\PY{p}{(}\PY{n}{Simple}\PY{p}{)}\PY{p}{:}

    \PY{l+s+sd}{"""}
\PY{l+s+sd}{    A text file input box.}
\PY{l+s+sd}{    Options: filename, text, width (in characters), height (in characters)}
\PY{l+s+sd}{    Response: any text returned by the dialogue program (typically an empty}
\PY{l+s+sd}{              string)}
\PY{l+s+sd}{    """}

    \PY{n}{name} \PY{o}{=} \PY{l+s}{"}\PY{l+s}{textfile}\PY{l+s}{"}
    \PY{n}{info} \PY{o}{=} \PY{p}{\PYZob{}}
        \PY{l+s}{"}\PY{l+s}{kdialog}\PY{l+s}{"} \PY{p}{:} \PY{p}{(}\PY{n}{\PYZus{}readfrom}\PY{p}{,} \PY{p}{[}\PY{l+s}{"}\PY{l+s}{--textbox}\PY{l+s}{"}\PY{p}{,} \PY{n}{String}\PY{p}{(}\PY{l+s}{"}\PY{l+s}{filename}\PY{l+s}{"}\PY{p}{)}\PY{p}{,} \PY{n}{Integer}\PY{p}{(}\PY{l+s}{"}\PY{l+s}{width}\PY{l+s}{"}\PY{p}{,} \PY{n}{pixels}\PY{o}{=}\PY{l+m+mi}{1}\PY{p}{)}\PY{p}{,} \PY{n}{Integer}\PY{p}{(}\PY{l+s}{"}\PY{l+s}{height}\PY{l+s}{"}\PY{p}{,} \PY{n}{pixels}\PY{o}{=}\PY{l+m+mi}{1}\PY{p}{)}\PY{p}{]}\PY{p}{)}\PY{p}{,}
        \PY{l+s}{"}\PY{l+s}{zenity}\PY{l+s}{"} \PY{p}{:} \PY{p}{(}\PY{n}{\PYZus{}readfrom}\PY{p}{,} \PY{p}{[}\PY{l+s}{"}\PY{l+s}{--text-info}\PY{l+s}{"}\PY{p}{,} \PY{n}{StringKeyword}\PY{p}{(}\PY{l+s}{"}\PY{l+s}{--filename}\PY{l+s}{"}\PY{p}{,} \PY{l+s}{"}\PY{l+s}{filename}\PY{l+s}{"}\PY{p}{)}\PY{p}{,} \PY{n}{IntegerKeyword}\PY{p}{(}\PY{l+s}{"}\PY{l+s}{--width}\PY{l+s}{"}\PY{p}{,} \PY{l+s}{"}\PY{l+s}{width}\PY{l+s}{"}\PY{p}{,} \PY{n}{pixels}\PY{o}{=}\PY{l+m+mi}{1}\PY{p}{)}\PY{p}{,}
            \PY{n}{IntegerKeyword}\PY{p}{(}\PY{l+s}{"}\PY{l+s}{--height}\PY{l+s}{"}\PY{p}{,} \PY{l+s}{"}\PY{l+s}{height}\PY{l+s}{"}\PY{p}{,} \PY{n}{pixels}\PY{o}{=}\PY{l+m+mi}{1}\PY{p}{)}\PY{p}{]}
            \PY{p}{)}\PY{p}{,}
        \PY{l+s}{"}\PY{l+s}{Xdialog}\PY{l+s}{"} \PY{p}{:} \PY{p}{(}\PY{n}{\PYZus{}readfrom}\PY{p}{,} \PY{p}{[}\PY{l+s}{"}\PY{l+s}{--stdout}\PY{l+s}{"}\PY{p}{,} \PY{l+s}{"}\PY{l+s}{--textbox}\PY{l+s}{"}\PY{p}{,} \PY{n}{String}\PY{p}{(}\PY{l+s}{"}\PY{l+s}{filename}\PY{l+s}{"}\PY{p}{)}\PY{p}{,} \PY{n}{Integer}\PY{p}{(}\PY{l+s}{"}\PY{l+s}{height}\PY{l+s}{"}\PY{p}{)}\PY{p}{,} \PY{n}{Integer}\PY{p}{(}\PY{l+s}{"}\PY{l+s}{width}\PY{l+s}{"}\PY{p}{)}\PY{p}{]}\PY{p}{)}\PY{p}{,}
        \PY{p}{\PYZcb{}}

    \PY{k}{def} \PY{n+nf}{\PYZus{}\PYZus{}init\PYZus{}\PYZus{}}\PY{p}{(}\PY{n+nb+bp}{self}\PY{p}{,} \PY{n}{filename}\PY{p}{,} \PY{n}{text}\PY{o}{=}\PY{l+s}{"}\PY{l+s}{"}\PY{p}{,} \PY{n}{width}\PY{o}{=}\PY{n+nb+bp}{None}\PY{p}{,} \PY{n}{height}\PY{o}{=}\PY{n+nb+bp}{None}\PY{p}{)}\PY{p}{:}
        \PY{n}{Simple}\PY{o}{.}\PY{n}{\PYZus{}\PYZus{}init\PYZus{}\PYZus{}}\PY{p}{(}\PY{n+nb+bp}{self}\PY{p}{,} \PY{n}{text}\PY{p}{,} \PY{n}{width}\PY{p}{,} \PY{n}{height}\PY{p}{)}
        \PY{n+nb+bp}{self}\PY{o}{.}\PY{n}{filename} \PY{o}{=} \PY{n}{filename}

\PY{c}{\PYZsh{} Available dialogues.}

\PY{n}{available} \PY{o}{=} \PY{p}{[}\PY{n}{Question}\PY{p}{,} \PY{n+ne}{Warning}\PY{p}{,} \PY{n}{Message}\PY{p}{,} \PY{n}{Error}\PY{p}{,} \PY{n}{Menu}\PY{p}{,} \PY{n}{CheckList}\PY{p}{,} \PY{n}{RadioList}\PY{p}{,} \PY{n}{Input}\PY{p}{,} \PY{n}{Password}\PY{p}{,} \PY{n}{Pulldown}\PY{p}{,} \PY{n}{TextFile}\PY{p}{]}

\PY{c}{\PYZsh{} Supported desktop environments.}

\PY{n}{supported} \PY{o}{=} \PY{n}{Dialogue}\PY{o}{.}\PY{n}{commands}\PY{o}{.}\PY{n}{keys}\PY{p}{(}\PY{p}{)}

\PY{c}{\PYZsh{} vim: tabstop=4 expandtab shiftwidth=4}
\end{Verbatim}
